# Go 语言书城项目开发计划

## 1. 首部
## 2. 项目概述

### 2.1 工作内容
本项目旨在设计并开发一个基于 Go 语言的高性能、易扩展的在线书城系统。主要工作包括：
| 分类    | 任务内容                                                                                                                                  |
| ----- | ------------------------------------------------------------------------------------------------------------------------------------- |
| 技术选型  | 1. 后端：Go 1.22 + Gin + GORM + MySQL 8.0<br>2. 前端：原生 HTML5/CSS3/JS + Bootstrap 5 + jQuery<br>3. 部署：Docker + Docker-Compose + Nginx 反向代理 |
| 数据库设计 | 1. 概念模型 → 逻辑模型 → 物理模型<br>2. 完成 ER 图、建表 SQL、索引设计、初始数据脚本（含图书/管理员/测试用户）                                                                  |
| 接口设计  | 1. 遵循 RESTful 规范，统一 JSON 返回格式（code/msg/data）<br>2. 完成在线接口文档（Swagger/OpenAPI 3.0）                                                      |
| 后端开发  | 1. 搭建 Go 项目骨架（分层：api/service/dao/model/utils/middleware）<br>2. 实现全部 22 个功能用例对应的后端接口<br>3. 单元测试覆盖率 ≥ 60%，关键路径（下单、支付、库存扣减）≥ 80%         |
| 前端开发  | 1. 页面组件化拆分（头部/尾部/分页/弹窗/表单）<br>2. 完成 9 大页面（首页/登录注册/购物车/结账/订单/图书管理/管理员首页/错误页）<br>3. 响应式布局，兼容 Chrome/Firefox/Safari 最新版                  |
| 集成测试  | 1. 前后端联调，覆盖正常 + 异常流<br>2. 使用 JMeter 完成性能基准测试：首页并发 200，95% RT < 500ms                                                                  |
| 部署上线  | 1. 编写 Dockerfile、docker-compose.yml、nginx.conf<br>2. 持续集成：GitHub Actions 自动跑测试、构建镜像<br>3. 云服务器（Ubuntu 22.04）一键部署脚本                    |
| 文档交付  | 1. 《配置管理计划》《软件过程定义》《软件需求说明书》《质量保证计划》《项目开发计划》《可行性分析报告》<br>2. 源码 README：运行步骤、参数说明、二次开发指南                                                                |


### 2.2 主要参加人员
| 姓名  | 学号         | 角色/职责     | 具体任务                                           |
| --- | ---------- | --------- | ---------------------------------------------- |
| 待定 | 待定 | 项目经理/后端开发 | 需求评审、排期、风险管控；图书管理、订单、购物车、结账等核心接口开发；单元测试        |
| 待定 | 待定 | 技术负责人/架构师 | 技术选型、项目骨架搭建、数据库设计、接口规范制定、性能调优、Docker部署         |
| 待定  | ——         | 前端开发      | 所有页面开发（HTML/CSS/JS）、Bootstrap响应式、前后端联调、前端性能优化  |
| 待定  | ——         | 测试工程师     | 测试用例编写、接口/功能/性能测试、缺陷跟踪、回归测试、输出《测试报告》           |
| 待定  | ——         | 运维/文档     | Dockerfile/CI/CD脚本、云服务器部署、域名/HTTPS配置、项目文档整理与归档 |


### 2.3 产品

#### 2.3.1 程序
- 可独立运行的 Go 语言后端服务二进制文件
- 前端静态资源文件（HTML, CSS, JavaScript）

| 子系统     | 交付物                                 | 技术栈                                  | 说明                                               |
| ------- | ----------------------------------- | ------------------------------------ | ------------------------------------------------ |
| 后端服务    | `gobookstore` 二进制 + 源码              | Go 1.22 ∕ Gin ∕ GORM ∕ MySQL 8.0     | 提供 RESTful API，容器化后镜像大小 ≤ 60 MB，启动时间 ≤ 3 s       |
| 前端页面    | `static/` 目录 + 源码                   | HTML5 ∕ CSS3 ∕ JS(ES6) ∕ Bootstrap 5 | 无构建步骤，直接托管到 Nginx，首屏渲染 ≤ 200 ms                  |
| 数据库     | 初始化 SQL 脚本                          | MySQL 8.0                            | 包含建表、索引、初始图书 100 条、管理员 1 条、测试用户 10 条             |
| 网关/反向代理 | `nginx.conf`                        | Nginx 1.24                           | 静态资源缓存 1 h、API 反向代理、Gzip 压缩、HTTPS 证书自动续期         |
| 容器化     | `Dockerfile` + `docker-compose.yml` | Docker 24 ∕ Docker-Compose 2.x       | 一键 `docker-compose up` 拉起整个商城（含 MySQL、Nginx、App） |
| CI/CD   | `.github/workflows/ci.yml`          | GitHub Actions                       | Push 后自动跑单元测试 → 构建镜像 → 推送到 GHCR → 部署到云主机         |

#### 2.3.2 文件
- 《配置管理计划》
- 《软件过程定义》
- 《软件需求说明书》
- 《质量保证计划》
- 《项目开发计划》
- 《可行性分析报告》
- 源代码（托管于 Git 仓库）

#### 2.3.3 服务
交付之日起，团队提供不少于六个月的免费运维保障与知识转移服务，核心内容包括：

1. **7×24 监控告警**  
    Prometheus 拉取节点与应用指标，Grafana 仪表盘实时展示 CPU、内存、磁盘、MySQL QPS、接口错误率与 P95 延迟；阈值异常时自动向指定邮箱与飞书群发送告警，并附带 TraceID 方便定位。

2. **日志聚合检索**  
   Loki 收集 stdout 与文件日志，在 Grafana 面板可按关键字、时间段、链路 ID 快速检索，日志保存三十天，超过期限自动清理。

3. **数据备份与恢复**  
   每日凌晨两点执行全库 mysqldump，压缩后上传至对象存储，保留七天滚动副本；提供一键恢复脚本 restore.sh，可在新实例完成数据回滚。

4. **安全补丁管理**  
   操作系统与第三方库高危漏洞公告发布后四十八小时内完成评估与升级；Go 模块每月执行 go mod tidy 并回归测试，确保无依赖隐患。

5. **性能调优支持**  
   根据监控趋势定期调整 MySQL 索引、连接池参数与 Nginx 缓存策略；大促前使用 JMeter 进行压测，出具性能报告并提出扩容或缩容建议。

6. **故障应急响应**  
   服务不可用超过五分钟即启动应急流程，三十分钟内响应，两小时内给出临时止血方案，二十四小时内完成根因分析与正式修复。

7. **培训与知识转移**  
   提供一次两小时的线上管理员培训，覆盖图书上架、订单履约、数据导出、常见 FAQ，并录制视频放入 GitHub Wiki；Wiki 持续更新运维手册、扩容指南、回滚步骤与二次开发示例代码。

8. **SLA 承诺**  
   系统可用性不低于 99.5%（计划内维护窗口除外），若未达成，按“停机时长 × 日服务费 × 3”减免后续服务费用，确保用户权益。

#### 2.3.4 非移交的产品

以下物品仅用于开发或运维过程，完成交付后**不随源码、镜像或文档一并移交**，所有权仍归开发团队或第三方服务商所有：

1. 持续集成所用的 GitHub Actions Runner 宿主机及其缓存数据；
2. 内部 Docker Registry 中的历史构建镜像（仅保留最新稳定版推送给甲方）；
3. 压测与调试阶段产生的 JMeter 脚本、Locust 日志、Mock 数据文件；
4. 开发和测试过程中使用的临时域名、SSL 证书（正式环境已切换至甲方自有域名）；
5. 飞书、邮件等告警通道的 WebHook 密钥与机器人 Token；
6. 云服务代金券、促销资源包、学生套餐账号等非现金资源；
7. 第三方 API（短信、支付沙箱）的测试密钥及回调验证脚本；
8. 代码质量平台的私有扫描规则与历史报告（SonarQube、CodeClimate）；
9. 团队内部即时通信记录、会议纪要、待办清单与私有笔记；
10. 任何包含个人隐私或商业敏感信息的原始数据文件（已脱敏或销毁）。

### 2.4 验收标准
### 2.4 验收标准

#### 2.4.1 功能验收  
- 对照《软件需求分析.md》全部 22 个用例（UC-1.1～UC-9.5）编写测试场景，100% 覆盖主流程与异常流；  
- 用户端：浏览、搜索、价格筛选、加入购物车、结账、订单查询、注册登录、密码强度提示、验证码刷新；  
- 管理端：图书 CRUD、分页、订单发货、首页统计卡片、TOP3 热销、权限拦截；  
- 所有页面在 Chrome/Firefox/Safari 最新版无脚本错误，移动端视口正常显示。

#### 2.4.2 性能验收  
- 首页并发 200 用户，95% 响应时间 ≤ 500 ms，错误率 ≤ 1%；  
- 下单流程（含库存扣减）并发 50 用户，无超卖、无重复订单号，事务回滚正确；  
- 数据库 CPU 峰值 ≤ 70%，连接池等待 ≤ 10 ms；  
- Nginx 静态资源开启 Gzip 后传输大小减少 ≥ 40%。

#### 2.4.3 安全验收  
- 通过 OWASP Top10 基线扫描，高危漏洞为 0；  
- 密码采用 bcrypt/MD5+Salt，暴力破解 5 次即锁定 1 小时；  
- 管理员接口未授权访问测试 100% 拦截；  
- XSS、SQL 注入、CSRF 手工用例全部拦截，无绕过。

#### 2.4.4 兼容性验收  
- 前端在 1920×1080、1366×768、iPhone 12/13、小米 10 默认浏览器无样式错乱；  
- 后端接口支持 Content-Type: application/json，UTF-8 编码，时间统一 RFC3339；  
- Docker 镜像可在 x86_64 Linux 与 macOS 原生运行，无需额外依赖。

#### 2.4.5 文档验收  
- 《接口文档》Swagger 可视化，接口与实现差异为 0；  
- 《数据库设计说明书》表、字段、索引、示例数据与生产库一致；  
- 《部署说明》按步骤可在全新云主机 30 分钟内完成重建；  
- 《测试报告》含功能、性能、安全结果，缺陷关闭率 ≥ 95%。

#### 2.4.6 交付物完整性  
- 源码仓库主干分支可一键 `docker-compose up` 启动完整商城；  
- 镜像已推送至甲方指定仓库，版本号与 Git Tag 一致；  
- 以上验收项全部通过后，由甲乙双方签署《验收通过确认书》，项目转入维保期。

### 2.5 完成项目的最迟期限

| 阶段 | 里程碑描述 | 截止日期 | 交付形式 | 甲方确认方式 |
|------|------------|----------|----------|--------------|
| 1 | 需求评审冻结 | 2025-09-30（周二） | 《软件需求说明书》V1.0 签字版 | 评审会议纪要+签字 |
| 2 | 设计与接口冻结 | 2025-10-15（周三） | 《数据库设计说明书》《接口文档》V1.0 | 评审会议纪要+签字 |
| 3 | 功能开发完成（可联调） | 2025-11-15（周六） | Git Tag `v1.0-beta` + 联调报告 | 现场演示+签字 |
| 4 | 性能&安全测试通过 | 2025-12-01（周一） | 《测试报告》V1.0（含性能、安全章节） | 书面确认+签字 |
| 5 | 用户验收测试（UAT）完成 | 2025-12-10（周三） | 《UAT 报告》+ 缺陷清单关闭率 ≥95% | 书面确认+签字 |
| **6** | **最终验收&交付** | **2025-12-15（周一）17:00** | 源代码、镜像、文档、培训录屏、签署《验收通过确认书》 | **最终盖章** |

> **逾期条款**：若因乙方原因未在 2025-12-15 17:00 前完成最终验收，每自然日扣减合同总额 0.5%，上限不超过合同总额 10%。  
> **顺延条款**：因甲方需求变更或资源延迟导致关键路径偏移，须双方签署《变更协议》并重新基线本表格后，最迟期限方可顺延。

## 3. 实施计划

### 3.1 角色定义及分配


### 3.2 过程域方法与工具


### 3.3 任务与进度

#### 3.3.1 任务与进度计划

#### 3.3.2 甘特图

#### 3.3.3 预算

#### 3.3.4 关键问题

## 4. 支持条件

### 4.1 计算机系统支持

### 4.2 需由用户承担的工作 

### 4.3 由外单位提供的条件

## 5. 专题计划要点 

### 5.1 配置管理专题
- **目标**：需求、代码、文档、脚本四者一致，任何时刻可一键回滚。  
- **关键活动**：制定《配置管理计划》；建立 Git Flow 与 Tag 命名规范；每日 CI 自动构建并邮件输出基线审计报告。  
- **时间窗口**：2025-09-25 起贯穿全程。  
- **成功准则**：已基线版本与 Git Tag 一一对应，审计问题 24 h 内清零。  
- **责任人**：配置管理员（傅宇驰）。

### 5.2 质量保证专题
- **目标**：交付缺陷密度 ≤ 0.2 个/功能点。  
- **关键活动**：制定《质量保证计划》；每迭代进行代码评审 + 单元测试覆盖率检查；集成阶段执行 SonarQube 扫描与高危漏洞复盘。  
- **时间窗口**：全生命周期。  
- **成功准则**：高危漏洞 = 0；单元测试覆盖率 ≥ 60%；代码规范违规 ≤ 5 条/KLOC。  
- **责任人**：质量经理（陈泓瑞）。

### 5.3 风险管理专题
- **目标**：前十大风险全部降至“低”等级。  
- **关键活动**：建立风险登记册；每周评审概率、影响与应对措施；触发阈值时立即启动应急预案。  
- **时间窗口**：全生命周期。  
- **成功准则**：风险发生次数 ≤ 1 次且不影响关键里程碑。  
- **责任人**：项目经理。

### 5.4 安全与隐私专题
- **目标**：通过 OWASP Top10 基线扫描，无中高危漏洞。  
- **关键活动**：需求阶段完成 STRIDE 威胁建模；编码阶段使用安全编码 Checklist；测试阶段进行渗透测试 + 源码扫描。  
- **时间窗口**：2025-11-01 至 2025-11-30。  
- **成功准则**：高危漏洞 = 0；中危漏洞 ≤ 2 个且 7 日内关闭。  
- **责任人**：测试工程师。

### 5.5 性能优化专题
- **目标**：首页 200 并发 P95 ≤ 500 ms，错误率 ≤ 1%。  
- **关键活动**：建立性能基线；数据库索引优化 + 连接池调优；Nginx 静态缓存与 Gzip 压缩策略落地。  
- **时间窗口**：2025-11-15 至 2025-12-01。  
- **成功准则**：性能测试报告通过甲方签字。  
- **责任人**：后端开发代表。

### 5.6 数据备份与恢复专题
- **目标**：RPO ≤ 24 h，RTO ≤ 2 h。  
- **关键活动**：制定备份策略；每日 02:00 自动全量备份 + binlog 增量；每月一次恢复演练并输出演练报告。  
- **时间窗口**：上线前 1 周起转入运维期。  
- **成功准则**：演练成功且数据零丢失。  
- **责任人**：运维工程师。

### 5.7 用户培训与知识转移专题
- **目标**：甲方管理员可独立完成后台图书上架、订单发货、数据导出操作。  
- **关键活动**：编写《用户手册》；录制后台操作视频；组织线上直播培训与答疑。  
- **时间窗口**：2025-12-05 至 2025-12-10。  
- **成功准则**：培训满意度 ≥ 90%；手册下载量 ≥ 10 次。  
- **责任人**：项目经理。

### 5.8 合规与验收专题
- **目标**：一次性通过最终验收，按期拿到《验收通过确认书》。  
- **关键活动**：制定内部验收检查单；先执行一轮预验收；对遗留缺陷进行整改-复验-关闭；最终甲方签字盖章。  
- **时间窗口**：2025-12-10 至 2025-12-15。  
- **成功准则**：验收缺陷关闭率 100%；甲方签字盖章完成。  
- **责任人**：项目经理。